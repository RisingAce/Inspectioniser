<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Property Inspection Report Generator</title>
  <style>
    /* Global Styles */
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 20px;
    }
    h2 {
      text-align: center;
      color: #333;
      margin-bottom: 20px;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: #fff;
      padding: 20px;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    /* Section (Card) Styles */
    .section {
      margin-bottom: 20px;
      border: 1px solid #ddd;
      border-radius: 4px;
      overflow: hidden;
      background: #fff;
    }
    .section h3 {
      background: #007BFF;
      color: #fff;
      margin: 0;
      padding: 10px 15px;
      cursor: pointer;
      user-select: none;
    }
    .section-content {
      padding: 15px;
      display: none;
      animation: fadeIn 0.3s;
    }
    .section-content.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    /* Form Elements */
    .form-group {
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: #555;
    }
    input[type="text"],
    input[type="date"],
    textarea,
    select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
    textarea {
      resize: vertical;
    }
    .btn {
      background: #007BFF;
      color: #fff;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-right: 10px;
      transition: background 0.3s;
    }
    .btn:hover {
      background: #0056b3;
    }
    pre {
      background: #f4f4f4;
      padding: 15px;
      border-radius: 4px;
      white-space: pre-wrap;
    }
    /* Image Preview Styles */
    .preview-container img {
      width: 100px;
      margin-right: 5px;
      margin-bottom: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Property Inspection Report Generator</h2>

    <!-- Example Section: Windows & Doors -->
    <div class="section">
      <h3>Windows & Doors</h3>
      <div class="section-content">
        <div class="form-group">
          <label for="windowsDoors">Type/Condition/Do they open? Need painting?</label>
          <textarea id="windowsDoors"></textarea>
        </div>
        <div class="form-group">
          <input type="checkbox" id="windowsDoorsPhotos">
          <label for="windowsDoorsPhotos">Photos Taken?</label>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="windowsDoorsQuality">Quality:</label>
          <select id="windowsDoorsQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload with Preview -->
        <div class="form-group">
          <label for="windowsDoorsPhotoInput">Upload/Take Photos for Windows & Doors</label>
          <input type="file" id="windowsDoorsPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="windowsDoorsPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 3: General Decoration -->
    <div class="section">
      <h3>General Decoration</h3>
      <div class="section-content">
        <div class="form-group">
          <label for="generalDecoration">Is it tired? Repaint or re-carpet soon?</label>
          <textarea id="generalDecoration"></textarea>
        </div>
        <div class="form-group">
          <input type="checkbox" id="generalDecorationPhotos">
          <label for="generalDecorationPhotos">Photos Taken?</label>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="generalDecorationQuality">Quality:</label>
          <select id="generalDecorationQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="generalDecorationPhotoInput">Upload/Take Photos for General Decoration</label>
          <input type="file" id="generalDecorationPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="generalDecorationPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 4: General Cleanliness -->
    <div class="section">
      <h3>General Cleanliness</h3>
      <div class="section-content">
        <div class="form-group">
          <label for="generalCleanliness">Pets? Smoking? Extra Occupants?</label>
          <textarea id="generalCleanliness"></textarea>
        </div>
        <div class="form-group">
          <input type="checkbox" id="generalCleanlinessPhotos">
          <label for="generalCleanlinessPhotos">Photos Taken?</label>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="generalCleanlinessQuality">Quality:</label>
          <select id="generalCleanlinessQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="generalCleanlinessPhotoInput">Upload/Take Photos for General Cleanliness</label>
          <input type="file" id="generalCleanlinessPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="generalCleanlinessPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 5: Furniture -->
    <div class="section">
      <h3>Furniture</h3>
      <div class="section-content">
        <div class="form-group">
          <label for="furniture">Condition/Wear & Tear/Fire Safety</label>
          <textarea id="furniture"></textarea>
        </div>
        <div class="form-group">
          <input type="checkbox" id="furniturePhotos">
          <label for="furniturePhotos">Photos Taken?</label>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="furnitureQuality">Quality:</label>
          <select id="furnitureQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="furniturePhotoInput">Upload/Take Photos for Furniture</label>
          <input type="file" id="furniturePhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="furniturePhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 6: Blinds -->
    <div class="section">
      <h3>Blinds</h3>
      <div class="section-content">
        <div class="form-group">
          <label>Do all Blinds have Tension Clips?</label>
          <label><input type="radio" name="blinds" value="Yes"> Yes</label>
          <label><input type="radio" name="blinds" value="No"> No</label>
        </div>
        <div class="form-group">
          <input type="checkbox" id="blindsPhotos">
          <label for="blindsPhotos">Photos Taken?</label>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="blindsQuality">Quality:</label>
          <select id="blindsQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="blindsPhotoInput">Upload/Take Photos for Blinds</label>
          <input type="file" id="blindsPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="blindsPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 7: Dampness & Seals -->
    <div class="section">
      <h3>Dampness & Seals</h3>
      <div class="section-content">
        <div class="form-group">
          <label for="dampnessSeals">Notes on Dampness & Seals</label>
          <textarea id="dampnessSeals"></textarea>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="dampnessSealsQuality">Quality:</label>
          <select id="dampnessSealsQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="dampnessSealsPhotoInput">Upload/Take Photos for Dampness & Seals</label>
          <input type="file" id="dampnessSealsPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="dampnessSealsPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 8: Kitchen -->
    <div class="section">
      <h3>Kitchen</h3>
      <div class="section-content">
        <div class="form-group">
          <label for="kitchenExtractor">Extractor & Seals</label>
          <textarea id="kitchenExtractor"></textarea>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="kitchenQuality">Quality:</label>
          <select id="kitchenQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="kitchenExtractorPhotoInput">Upload/Take Photos for Kitchen</label>
          <input type="file" id="kitchenExtractorPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="kitchenExtractorPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 9: Bathroom & Ensuite -->
    <div class="section">
      <h3>Bathroom & Ensuite</h3>
      <div class="section-content">
        <div class="form-group">
          <label for="bathroom">Check Shower Heads/Seals (Bathroom)</label>
          <textarea id="bathroom"></textarea>
        </div>
        <div class="form-group">
          <label for="ensuite">Check Shower Heads/Seals (Ensuite)</label>
          <textarea id="ensuite"></textarea>
        </div>
        <div class="form-group">
          <input type="checkbox" id="bathroomPhotos">
          <label for="bathroomPhotos">Photos Taken?</label>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="bathroomQuality">Quality:</label>
          <select id="bathroomQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="bathroomPhotoInput">Upload/Take Photos for Bathroom & Ensuite</label>
          <input type="file" id="bathroomPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="bathroomPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 10: Smoke Alarms -->
    <div class="section">
      <h3>Smoke Alarms</h3>
      <div class="section-content">
        <div class="form-group">
          <label>Hall Ceiling Mounted?</label>
          <label><input type="radio" name="smokeHall" value="Yes"> Yes</label>
          <label><input type="radio" name="smokeHall" value="No"> No</label>
        </div>
        <div class="form-group">
          <label>Lounge Ceiling Mounted?</label>
          <label><input type="radio" name="smokeLounge" value="Yes"> Yes</label>
          <label><input type="radio" name="smokeLounge" value="No"> No</label>
        </div>
        <div class="form-group">
          <label>Kitchen (Heat Detector) Ceiling Mounted?</label>
          <label><input type="radio" name="smokeKitchen" value="Yes"> Yes</label>
          <label><input type="radio" name="smokeKitchen" value="No"> No</label>
        </div>
        <div class="form-group">
          <label>Upper Hall Ceiling Mounted?</label>
          <label><input type="radio" name="smokeUpperHall" value="Yes"> Yes</label>
          <label><input type="radio" name="smokeUpperHall" value="No"> No</label>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="smokeAlarmsQuality">Quality:</label>
          <select id="smokeAlarmsQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="smokeAlarmsPhotoInput">Upload/Take Photos for Smoke Alarms</label>
          <input type="file" id="smokeAlarmsPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="smokeAlarmsPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 11: Garden -->
    <div class="section">
      <h3>Garden</h3>
      <div class="section-content">
        <div class="form-group">
          <label for="garden">Adequately Maintained?</label>
          <textarea id="garden"></textarea>
        </div>
        <div class="form-group">
          <input type="checkbox" id="gardenPhotos">
          <label for="gardenPhotos">Photos Taken?</label>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="gardenQuality">Quality:</label>
          <select id="gardenQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="gardenPhotoInput">Upload/Take Photos for Garden</label>
          <input type="file" id="gardenPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="gardenPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 12: Repairing Standard -->
    <div class="section">
      <h3>Repairing Standard</h3>
      <div class="section-content">
        <div class="form-group">
          <label>Kitchen - 1 cubic meter storage space?</label>
          <label><input type="radio" name="repairingKitchenStorage" value="Yes"> Yes</label>
          <label><input type="radio" name="repairingKitchenStorage" value="No"> No</label>
        </div>
        <div class="form-group">
          <label>Fixed heating (heater in each room)?</label>
          <label><input type="radio" name="repairingFixedHeating" value="Yes"> Yes</label>
          <label><input type="radio" name="repairingFixedHeating" value="No"> No</label>
        </div>
        <div class="form-group">
          <label>Space & power for a freezer?</label>
          <label><input type="radio" name="repairingFreezerSpace" value="Yes"> Yes</label>
          <label><input type="radio" name="repairingFreezerSpace" value="No"> No</label>
        </div>
        <div class="form-group">
          <label for="repairingOtherFuel">Any other fuel source present?</label>
          <input type="text" id="repairingOtherFuel">
        </div>
        <div class="form-group">
          <label>300mm or more between cooker & sink?</label>
          <label><input type="radio" name="repairingCookerSink" value="Yes"> Yes</label>
          <label><input type="radio" name="repairingCookerSink" value="No"> No</label>
        </div>
        <div class="form-group">
          <label>RCD Protection?</label>
          <label><input type="radio" name="repairingRCD" value="Yes"> Yes</label>
          <label><input type="radio" name="repairingRCD" value="No"> No</label>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="repairingStandardQuality">Quality:</label>
          <select id="repairingStandardQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="repairingStandardPhotoInput">Upload/Take Photos for Repairing Standard</label>
          <input type="file" id="repairingStandardPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="repairingStandardPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Section 13: HMO -->
    <div class="section">
      <h3>HMO</h3>
      <div class="section-content">
        <div class="form-group">
          <label for="hmo">Check all smoke alarms, HMO notice board, etc.</label>
          <textarea id="hmo"></textarea>
        </div>
        <!-- Quality Selector -->
        <div class="form-group">
          <label for="hmoQuality">Quality:</label>
          <select id="hmoQuality">
            <option value="">-- Select Quality --</option>
            <option value="excellent">Excellent</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
          </select>
        </div>
        <!-- Photo Upload -->
        <div class="form-group">
          <label for="hmoPhotoInput">Upload/Take Photos for HMO</label>
          <input type="file" id="hmoPhotoInput" accept="image/*" capture="camera" multiple>
          <div class="preview-container" id="hmoPhotoPreview"></div>
        </div>
      </div>
    </div>

    <!-- Buttons -->
    <div class="form-group">
      <button type="button" class="btn" id="generateBtn">Generate Report</button>
      <button type="button" class="btn" id="downloadBtn" disabled>Download Report</button>
    </div>
  </form>

  <!-- Report Display -->
  <pre id="reportOutput"></pre>

  <!-- Saved Reports List -->
  <div id="savedReportsList">
    <h4>Saved Reports (max 10):</h4>
    <div id="reportsContainer"></div>
  </div>
  <!-- JavaScript -->
  <script>
    // ========================================================
    // Accordion Toggle for Sections
    document.querySelectorAll(".section h3").forEach(header => {
      header.addEventListener("click", function() {
        const content = this.nextElementSibling;
        content.classList.toggle("active");
      });
    });

    // ========================================================
    // Sample Image Preview Code for Windows & Doors
    const windowsDoorsPhotoInput = document.getElementById("windowsDoorsPhotoInput");
    const windowsDoorsPhotoPreview = document.getElementById("windowsDoorsPhotoPreview");

    windowsDoorsPhotoInput.addEventListener("change", function() {
      const files = this.files;
      windowsDoorsPhotoPreview.innerHTML = "";
      for (let i = 0; i < files.length; i++) {
        const file = files[i];
        const reader = new FileReader();
        reader.onload = function(e) {
          const img = document.createElement("img");
          img.src = e.target.result;
          windowsDoorsPhotoPreview.appendChild(img);
        };
        reader.readAsDataURL(file);
      }
    });

    // ========================================================
    // Report Generation (Incorporates Quality Selectors)
    function buildReport() {
      let report = "PROPERTY INSPECTION REPORT\n" + "=".repeat(40) + "\n\n";
      
      // Windows & Doors
      const windowsDoorsText = document.getElementById("windowsDoors").value.trim();
      const windowsDoorsQuality = document.getElementById("windowsDoorsQuality").value;
      report += ">>> Windows & Doors:\n";
      report += "Details: " + windowsDoorsText + "\n";
      if (windowsDoorsQuality === "excellent") {
        report += "The windows and doors are in excellent condition, requiring minimal attention.\n";
      } else if (windowsDoorsQuality === "good") {
        report += "The windows and doors are in good condition but may benefit from minor maintenance.\n";
      } else if (windowsDoorsQuality === "average") {
        report += "The windows and doors are in average condition and might need repairs in the near future.\n";
      } else if (windowsDoorsQuality === "poor") {
        report += "The windows and doors are in poor condition and require significant repair or replacement.\n";
      }
      report += "\n";
      
      // General Decoration
      const generalDecorationText = document.getElementById("generalDecoration").value.trim();
      const generalDecorationQuality = document.getElementById("generalDecorationQuality").value;
      report += ">>> General Decoration:\n";
      report += "Details: " + generalDecorationText + "\n";
      if (generalDecorationQuality === "excellent") {
        report += "The decoration is excellent, reflecting a well-maintained environment.\n";
      } else if (generalDecorationQuality === "good") {
        report += "The decoration is good, though minor updates could enhance its appeal.\n";
      } else if (generalDecorationQuality === "average") {
        report += "The decoration is average and may require some improvements.\n";
      } else if (generalDecorationQuality === "poor") {
        report += "The decoration is poor and needs significant updating.\n";
      }
      report += "\n";

      // General Cleanliness
      const generalCleanlinessText = document.getElementById("generalCleanliness").value.trim();
      const generalCleanlinessQuality = document.getElementById("generalCleanlinessQuality").value;
      report += ">>> General Cleanliness:\n";
      report += "Details: " + generalCleanlinessText + "\n";
      if (generalCleanlinessQuality === "excellent") {
        report += "The property is exceptionally clean with no issues noted.\n";
      } else if (generalCleanlinessQuality === "good") {
        report += "The property is clean, with only minor issues.\n";
      } else if (generalCleanlinessQuality === "average") {
        report += "The cleanliness is average; attention may be needed soon.\n";
      } else if (generalCleanlinessQuality === "poor") {
        report += "The property is not clean and requires immediate attention.\n";
      }
      report += "\n";

      // Furniture
      const furnitureText = document.getElementById("furniture").value.trim();
      const furnitureQuality = document.getElementById("furnitureQuality").value;
      report += ">>> Furniture:\n";
      report += "Details: " + furnitureText + "\n";
      if (furnitureQuality === "excellent") {
        report += "The furniture is in excellent condition.\n";
      } else if (furnitureQuality === "good") {
        report += "The furniture is in good condition with minor wear.\n";
      } else if (furnitureQuality === "average") {
        report += "The furniture is average and may need updating.\n";
      } else if (furnitureQuality === "poor") {
        report += "The furniture is in poor condition and should be replaced.\n";
      }
      report += "\n";

      // Blinds
      const blindsQuality = document.getElementById("blindsQuality").value;
      report += ">>> Blinds:\n";
      if (blindsQuality === "excellent") {
        report += "The blinds are in excellent condition.\n";
      } else if (blindsQuality === "good") {
        report += "The blinds are in good condition.\n";
      } else if (blindsQuality === "average") {
        report += "The blinds are in average condition.\n";
      } else if (blindsQuality === "poor") {
        report += "The blinds are in poor condition and require repair.\n";
      }
      report += "\n";

      // Dampness & Seals
      const dampnessSealsText = document.getElementById("dampnessSeals").value.trim();
      const dampnessSealsQuality = document.getElementById("dampnessSealsQuality").value;
      report += ">>> Dampness & Seals:\n";
      report += "Notes: " + dampnessSealsText + "\n";
      if (dampnessSealsQuality === "excellent") {
        report += "Seals are excellent with no dampness issues.\n";
      } else if (dampnessSealsQuality === "good") {
        report += "Seals are good with only minor dampness noted.\n";
      } else if (dampnessSealsQuality === "average") {
        report += "Seals are average and may need maintenance soon.\n";
      } else if (dampnessSealsQuality === "poor") {
        report += "Dampness and seals are in poor condition and need repair.\n";
      }
      report += "\n";

      // Kitchen
      const kitchenText = document.getElementById("kitchenExtractor").value.trim();
      const kitchenQuality = document.getElementById("kitchenQuality").value;
      report += ">>> Kitchen:\n";
      report += "Details: " + kitchenText + "\n";
      if (kitchenQuality === "excellent") {
        report += "The kitchen is in excellent condition.\n";
      } else if (kitchenQuality === "good") {
        report += "The kitchen is in good condition.\n";
      } else if (kitchenQuality === "average") {
        report += "The kitchen is average and may require some updates.\n";
      } else if (kitchenQuality === "poor") {
        report += "The kitchen is in poor condition and requires significant improvement.\n";
      }
      report += "\n";

      // Bathroom & Ensuite
      const bathroomText = document.getElementById("bathroom").value.trim();
      const ensuiteText = document.getElementById("ensuite").value.trim();
      const bathroomQuality = document.getElementById("bathroomQuality").value;
      report += ">>> Bathroom & Ensuite:\n";
      report += "Bathroom: " + bathroomText + "\n";
      report += "Ensuite: " + ensuiteText + "\n";
      if (bathroomQuality === "excellent") {
        report += "The bathroom and ensuite are in excellent condition.\n";
      } else if (bathroomQuality === "good") {
        report += "The bathroom and ensuite are in good condition with minor issues.\n";
      } else if (bathroomQuality === "average") {
        report += "The bathroom and ensuite are average and might need attention.\n";
      } else if (bathroomQuality === "poor") {
        report += "The bathroom and ensuite are in poor condition and require urgent repair.\n";
      }
      report += "\n";

      // Smoke Alarms
      const smokeAlarmsQuality = document.getElementById("smokeAlarmsQuality").value;
      report += ">>> Smoke Alarms:\n";
      if (smokeAlarmsQuality === "excellent") {
        report += "Smoke alarms are in excellent working order.\n";
      } else if (smokeAlarmsQuality === "good") {
        report += "Smoke alarms are in good condition.\n";
      } else if (smokeAlarmsQuality === "average") {
        report += "Smoke alarms are average; consider testing and maintenance.\n";
      } else if (smokeAlarmsQuality === "poor") {
        report += "Smoke alarms are in poor condition and require immediate replacement.\n";
      }
      report += "\n";

      // Garden
      const gardenText = document.getElementById("garden").value.trim();
      const gardenQuality = document.getElementById("gardenQuality").value;
      report += ">>> Garden:\n";
      report += "Details: " + gardenText + "\n";
      if (gardenQuality === "excellent") {
        report += "The garden is in excellent condition with well-maintained landscaping.\n";
      } else if (gardenQuality === "good") {
        report += "The garden is in good condition but may need some upkeep.\n";
      } else if (gardenQuality === "average") {
        report += "The garden is average and could benefit from more regular maintenance.\n";
      } else if (gardenQuality === "poor") {
        report += "The garden is in poor condition and requires significant work.\n";
      }
      report += "\n";

      // Repairing Standard
      const repairingOtherFuelText = document.getElementById("repairingOtherFuel").value.trim();
      const repairingStandardQuality = document.getElementById("repairingStandardQuality").value;
      report += ">>> Repairing Standard:\n";
      report += "Other Fuel Source: " + repairingOtherFuelText + "\n";
      if (repairingStandardQuality === "excellent") {
        report += "The repairing standard meets excellent safety and maintenance criteria.\n";
      } else if (repairingStandardQuality === "good") {
        report += "The repairing standard is good with only minor deficiencies.\n";
      } else if (repairingStandardQuality === "average") {
        report += "The repairing standard is average and may need improvements.\n";
      } else if (repairingStandardQuality === "poor") {
        report += "The repairing standard is poor and does not meet the required criteria.\n";
      }
      report += "\n";

      // HMO
      const hmoText = document.getElementById("hmo").value.trim();
      const hmoQuality = document.getElementById("hmoQuality").value;
      report += ">>> HMO:\n";
      report += "Details: " + hmoText + "\n";
      if (hmoQuality === "excellent") {
        report += "HMO aspects are excellent with all required standards met.\n";
      } else if (hmoQuality === "good") {
        report += "HMO aspects are good but may need slight attention.\n";
      } else if (hmoQuality === "average") {
        report += "HMO aspects are average and improvements are recommended.\n";
      } else if (hmoQuality === "poor") {
        report += "HMO aspects are poor and need significant improvement.\n";
      }
      report += "\n" + "=".repeat(40) + "\nEnd of Report.";
      return report;
    }

    const generateBtn = document.getElementById("generateBtn");
    const downloadBtn = document.getElementById("downloadBtn");
    const reportOutput = document.getElementById("reportOutput");

    generateBtn.addEventListener("click", function() {
      const reportText = buildReport();
      reportOutput.textContent = reportText;
      downloadBtn.disabled = false;
      saveReportToLocalStorage(reportText);
      displaySavedReports();
    });

    downloadBtn.addEventListener("click", function() {
      const reportText = reportOutput.textContent;
      const blob = new Blob([reportText], { type: "text/plain" });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "inspection_report.txt";
      a.click();
      window.URL.revokeObjectURL(url);
    });

    // ========================================================
    // Saving Completed Reports (Max 10) into localStorage
    function saveReportToLocalStorage(reportText) {
      const timeStamp = new Date().toISOString();
      const newReport = {
        property: "Property Report", // Use a dynamic name if available
        content: reportText,
        date: timeStamp
      };
      let savedReports = JSON.parse(localStorage.getItem("savedReports")) || [];
      savedReports.unshift(newReport);
      if (savedReports.length > 10) {
        savedReports.pop();
      }
      localStorage.setItem("savedReports", JSON.stringify(savedReports));
    }

    function displaySavedReports() {
      const reportsContainer = document.getElementById("reportsContainer");
      reportsContainer.innerHTML = "";
      const savedReports = JSON.parse(localStorage.getItem("savedReports")) || [];
      if (!savedReports.length) {
        reportsContainer.innerHTML = "<p>No reports saved yet.</p>";
        return;
      }
      savedReports.forEach(reportObj => {
        const itemDiv = document.createElement("div");
        itemDiv.className = "saved-report-item";
        const info = document.createElement("span");
        info.textContent = reportObj.property + " (" + reportObj.date.slice(0, 19).replace('T',' ') + ")";
        const dlBtn = document.createElement("button");
        dlBtn.textContent = "Download";
        dlBtn.addEventListener("click", () => {
          downloadSavedReport(reportObj);
        });
        itemDiv.appendChild(info);
        itemDiv.appendChild(dlBtn);
        reportsContainer.appendChild(itemDiv);
      });
    }

    function downloadSavedReport(reportObj) {
      const fileName = reportObj.property.replace(/\s+/g, "_") + "_" + reportObj.date.slice(0, 10) + ".txt";
      const blob = new Blob([reportObj.content], { type: "text/plain" });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = fileName;
      a.click();
      window.URL.revokeObjectURL(url);
    }

    // ========================================================
    // On Page Load: Display Saved Reports
    document.addEventListener("DOMContentLoaded", function() {
      displaySavedReports();
    });
  </script>
  </div>
</body>
</html>
